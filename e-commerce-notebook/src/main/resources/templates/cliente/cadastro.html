<!DOCTYPE html>
<html lang="pt" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/js/plugins/bootstrap-4.1.3/bootstrap.min.css}">
    <title>Document</title>
</head>
<body>
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-2">
                <a href="#">
                    <img th:src="@{/img/logo.png}" class="img-fluid" alt="Imagem responsiva" style="height: 100px;">
                </a>
            </div>
            <div class="col-md-8">
                <form>
                    <div class="row">
                        <div class="col-md-9">
                            <input type="text" class="form-control" placeholder="O que você procura?">
                        </div>
                        <div class="col-md-3">
                            <button class="btn btn-outline-primary">Pesquisar</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-md-2">
                <div class="row">
                    <div class="col-md-6" style="text-align: center;">
                        <a href="#">
                            <ion-icon name="log-in-outline" size="large"></ion-icon>
                            <spam>login</spam>
                        </a>
                    </div>
                    <div class="col-md-6" style="text-align: center;">
                        <a href="#">
                            <ion-icon name="cart-outline" size="large"></ion-icon>
                            <span>carrinho</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row align-items-center justify-content-md-center">
        <form class="form-row col-md-8" th:action="@{/cliente/cadastro}" th:object="${clienteDTO}"
            method="post">
            <div class="form-group col-md-12">
               <!-- <input th:field="*{id}" th:value="*{id}" hidden> --->
                <label for="inputNome">Nome</label>
                <input type="text" th:class="${#fields.hasErrors('nome')?'form-control is-invalid':'form-control'}"
                    id="cli-nome" placeholder="Nome" th:field="*{nome}">
                <spam class="text-danger" th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}"></spam>
            </div>
            <div class="form-group col-md-5">
                <label for="tipoCliente">Tipo cliente</label>
                <select class="custom-select" id="tipoCliente" th:field="*{tipoCliente}">
                    <option value="">Selecione o tipo do cliente</option>
                    <option th:each="tipoClienteOpt : ${T(com.sp.gov.fatec.les.lucasdonizeti.ecommercenotebook.cliente.TipoCliente).values()}"
                    th:class="${#fields.hasErrors('tipoCliente')?'form-control is-invalid':'form-control'}"
                        th:value="${tipoClienteOpt}" th:text="${tipoClienteOpt.getDescricao()}"></option>
                </select>
                <spam class="text-danger" th:if="${#fields.hasErrors('tipoCliente')}"
                    th:errors="*{tipoCliente}"></spam>
            </div>
            
            <div class="form-row col-md-12 align-items-center justify-content-md-center" id="forms-documento">
                <div class="form-group col-md-9">
                    <h3>Documentos</h3>
                    <spam class="text-danger" th:if="${#fields.hasErrors('documentos')}"
                            th:errors="*{documentos}"></spam>
                    <input id="documentoSize" th:value="*{documentos != null?#lists.size(documentos):0}" hidden>
                </div>
                <div class="form-group col-md-3">
                    <button class="btn" id="button-add-form-documento" type="submit" name="add" value="documento">
                        <ion-icon name="add-circle-outline"></ion-icon>
                    </button>
                </div>
                <div th:each="documento, i : *{documentos}" class="form-row col-md-12 border align-items-center justify-content-md-center" style="margin-top:10px">
                    <div class="form-group col-md-4">
                        <!-- <input th:field="*{documentos[__${i.index}__].id}" th:value="*{documentos[__${i.index}__].id != null?documentos[__${i.index}__].id:0}" hidden> -->
                        <label>Codigo</label>
                        <input type="number"
                            th:class="${#fields.hasErrors('documentos[__${i.index}__].codigo')?'form-control is-invalid':'form-control'}"
                            placeholder="Codigo" th:field="*{documentos[__${i.index}__].codigo}">
                        <spam class="text-danger" th:if="${#fields.hasErrors('documentos[__${i.index}__].codigo')}"
                            th:errors="*{documentos[__${i.index}__].codigo}"></spam>
                    </div>
                
                    <div class="form-group col-md-4">
                        <label>Tipo</label>
                        <select class="custom-select" id="tipoDocumento" th:field="*{documentos[__${i.index}__].tipoDocumento}">
                                <option value="">Selecione o tipo do documento</option>
                                <option th:each="tipoDocumentoOpt : ${T(com.sp.gov.fatec.les.lucasdonizeti.ecommercenotebook.documento.TipoDocumento).values()}"
                                th:class="${#fields.hasErrors('documentos[__${i.index}__].tipoDocumento')?'form-control is-invalid':'form-control'}"
                                    th:value="${tipoDocumentoOpt}" th:text="${tipoDocumentoOpt.getDescricao()}"></option>
                            </select>
                        <spam class="text-danger" th:if="${#fields.hasErrors('documentos[__${i.index}__].tipoDocumento')}"
                            th:errors="*{documentos[__${i.index}__].tipoDocumento}"></spam>
                            <spam class="text-danger" th:if="${#fields.hasErrors('documentos[__${i.index}__]')}"
                            th:errors="*{documentos[__${i.index}__]}"></spam>
                    </div>

                    <div class="form-group col-md-4">
                        <button class="btn btn-danger" type="submit" name="removeDocumento" 
                        th:value="${i.index}" >Remover</button>
                    </div>
                </div>
            </div>

            <!---
            <div class="form-row col-md-12 align-items-center justify-content-md-center" id="forms-endereco" style="margin-top:10px">
                <div class="form-group col-md-9">
                    <h3>Endereco</h3>
                    <input id="enderecoSize" th:value="*{enderecos != null?#lists.size(enderecos):0}" hidden>
                    <spam class="text-danger" th:if="*{#fields.hasErrors('enderecos')}"
                            th:errors="*{enderecos}"></spam>
                </div>
                <div class="form-group col-md-3">
                    <button class="btn" id="button-add-form-endereco" type="button">
                        <ion-icon name="add-circle-outline"></ion-icon>
                    </button>
                </div>
                <div th:each="endereco, i : *{enderecos}" class="form-row col-md-12 border align-items-center justify-content-md-center">
                    <div class="form-group col-md-3">
                        <input th:field="*{enderecos[__${i.index}__].id}" th:value="*{enderecos[__${i.index}__].id != null?enderecos[__${i.index}__].id:0}" hidden>
                        <label>CEP</label>
                        <input type="text" id="inputCep"
                            th:class="*{#fields.hasErrors('enderecos[__${i.index}__].cep')?'form-control is-invalid':'form-control'}"
                            placeholder="CEP" th:field="*{enderecos[__${i.index}__].cep}">
                        <spam class="text-danger" th:if="*{#fields.hasErrors('enderecos[__${i.index}__].cep')}"
                            th:errors="*{enderecos[__${i.index}__].cep}"></spam>
                    </div>
                    <div class="form-group col-md-5">
                        <input th:field="*{enderecos[__${i.index}__].cidadeId}" th:value="*{enderecos[__${i.index}__].cidadeId != null?enderecos[__${i.index}__].cidadeId:0}" hidden>
                        <label>Cidade</label>
                        <input type="text"
                            th:class="${#fields.hasErrors('enderecos[__${i.index}__].cidade')?'form-control is-invalid':'form-control'}"
                            placeholder="Cidade" th:field="*{enderecos[__${i.index}__].cidade}">
                        <spam class="text-danger" th:if="${#fields.hasErrors('enderecos[__${i.index}__].cidade')}"
                            th:errors="*{enderecos[__${i.index}__].cidade}"></spam>
                    </div>
                    <div class="form-group col-md-2">
                        <input th:field="*{enderecos[__${i.index}__].estadoId}" th:value="*{enderecos[__${i.index}__].estadoId != null?enderecos[__${i.index}__].estadoId:0}" hidden>
                        <label>Estado</label>
                        <input type="text"
                            th:class="${#fields.hasErrors('enderecos[__${i.index}__].estado')?'form-control is-invalid':'form-control'}"
                            placeholder="Estado" th:field="*{enderecos[__${i.index}__].estado}">
                        <spam class="text-danger" th:if="${#fields.hasErrors('enderecos[__${i.index}__].estado')}"
                            th:errors="*{enderecos[__${i.index}__].estado}"></spam>
                    </div>
                    <div class="form-group col-md-2">
                        <button class="btn btn-danger" type="submit" name="removeEndereco" 
                        th:value="${i.index}" >Remover</button>
                    </div>
                    <div class="form-group col-md-2">
                        <label>Numero</label>
                        <input type="number"
                            th:class="${#fields.hasErrors('enderecos[__${i.index}__].numero')?'form-control is-invalid':'form-control'}"
                            placeholder="numero" th:field="*{enderecos[__${i.index}__].numero}">
                        <spam class="text-danger" th:if="${#fields.hasErrors('enderecos[__${i.index}__].numero')}"
                            th:errors="*{enderecos[__${i.index}__].numero}"></spam>
                    </div>
                    <div class="form-group col-md-5">
                        <label>Longradouro</label>
                        <input type="text"
                            th:class="${#fields.hasErrors('enderecos[__${i.index}__].longradouro')?'form-control is-invalid':'form-control'}"
                            placeholder="Longradouro" th:field="*{enderecos[__${i.index}__].longradouro}">
                        <spam class="text-danger" th:if="${#fields.hasErrors('enderecos[__${i.index}__].longradouro')}"
                            th:errors="*{enderecos[__${i.index}__].longradouro}"></spam>
                    </div>
                    <div class="form-group col-md-5">
                        <label>Complemento</label>
                        <input type="text"
                            th:class="${#fields.hasErrors('enderecos[__${i.index}__].complemento')?'form-control is-invalid':'form-control'}"
                            placeholder="Complemento" th:field="*{enderecos[__${i.index}__].complemento}">
                        <spam class="text-danger" th:if="${#fields.hasErrors('enderecos[__${i.index}__].complemento')}"
                            th:errors="*{enderecos[__${i.index}__].complemento}"></spam>
                    </div>
                    <div class="form-group col-md-2">
                        <input th:field="*{enderecos[__${i.index}__].tipoEndereco.id}" th:value="*{enderecos[__${i.index}__].tipoEndereco.id != null?enderecos[__${i.index}__].tipoEndereco.id:0}" hidden>
                        <label>Tipo</label>
                        <input type="text"
                            th:class="${#fields.hasErrors('enderecos[__${i.index}__].tipoEndereco.nome')?'form-control is-invalid':'form-control'}"
                            placeholder="Tipo" th:field="*{enderecos[__${i.index}__].tipoEndereco.nome}">
                        <spam class="text-danger" th:if="${#fields.hasErrors('enderecos[__${i.index}__].tipoEndereco.nome')}"
                            th:errors="*{enderecos[__${i.index}__].tipoEndereco.nome}"></spam>
                    </div>
                    <div class="form-group col-md-10">
                        <label>Descrição</label>
                        <input type="text"
                            th:class="${#fields.hasErrors('enderecos[__${i.index}__].tipoEndereco.descricao')?'form-control is-invalid':'form-control'}"
                            placeholder="Descrição" th:field="*{enderecos[__${i.index}__].tipoEndereco.descricao}">
                        <spam class="text-danger" th:if="${#fields.hasErrors('enderecos[__${i.index}__].tipoEndereco.descricao')}"
                            th:errors="*{enderecos[__${i.index}__].tipoEndereco.descricao}"></spam>
                    </div>
                </div>
            </div>
--->
            <div class="form-group offset-md-8 col-md-4 align-bottom" style="text-align: right;">
                <button class="btn btn-primary" type="submit" id="btn-cadastrar" th:text="${clienteDTO!=null?'Editar':'Cadastrar'}">Cadastrar</button>
            </div>
            
        </form>
    </div>


    <script src="https://unpkg.com/ionicons@5.4.0/dist/ionicons.js"></script>
    <script th:src="@{\js\plugins\jquery-3.3.1\jquery-3.1.1.min.js}"></script>
    <script th:src="@{/js/plugins/popper/popper.min.js}"></script>
    <script th:src="@{/js/plugins/bootstrap-4.1.3/bootstrap.min.js}"></script>

</body>

</html>